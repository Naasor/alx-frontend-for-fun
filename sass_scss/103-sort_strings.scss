/* Sort */
@import '103-sort_list.scss';

/* Function to get the Unicode value of a character */
@function char-code($char) {
  $chars: 'abcdefghijklmnopqrstuvwxyz';
  @return str-index($chars, $char);
}

/* Function to compare two strings */
@function compare($a, $b) {
  $length-a: str-length($a);
  $length-b: str-length($b);
  $min-length: if($length-a < $length-b, $length-a, $length-b);

  @for $i from 1 through $min-length {
    $char-a: str-slice($a, $i, $i);
    $char-b: str-slice($b, $i, $i);

    @if char-code($char-a) < char-code($char-b) {
      @return true;
    } @else if char-code($char-a) > char-code($char-b) {
      @return false;
    }
  }

  @return $length-a < $length-b;
}

/* Custom sort function using quicksort algorithm */
@function sort($list) {
  @if length($list) < 2 {
    @return $list;
  }

  $pivot: nth($list, 1);
  $rest: ();
  @for $i from 2 through length($list) {
    $rest: append($rest, nth($list, $i));
  }

  $left: ();
  $right: ();
  @each $item in $rest {
    @if compare($item, $pivot) {
      $left: append($left, $item);
    } @else {
      $right: append($right, $item);
    }
  }

  @return join(join(sort($left), $pivot, comma), sort($right), comma);
}

$list_sorted: sort($list_to_sort);

@debug $list_to_sort;